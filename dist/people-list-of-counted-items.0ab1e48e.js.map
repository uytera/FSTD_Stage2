{"version":3,"sources":["search_room_page/js/list-of-counted-items/people/people-list-of-counted-items.js"],"names":["mapOfPeopleStrings","Map","mapOfPeopleConjugations","peopleRootElement","$","document","ready","getElementsByClassName","fillMap","add_elements_event","getElementById","addEventListener","e","massOflistItems","item","massOfElements","closest","querySelectorAll","text","set","innerHTML","fillTextField","massOfButtons","classList","add","id","decrement","increment","remove","massOfItems","key","children","Number","parseInt","count","resultString","string","length","conjugation","get","toLowerCase","val","number","txt","cases"],"mappings":"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","file":"people-list-of-counted-items.0ab1e48e.js","sourceRoot":"..\\src","sourcesContent":["//window.jQuery = window.$ = require('jquery');\r\nvar mapOfPeopleStrings = new Map();\r\n\r\nvar mapOfPeopleConjugations = new Map([\r\n    [\"ВЗРОСЛЫЕ\", [\"взрослый\", \"взрослых\", \"взрослых\"]],\r\n    [\"ДЕТИ\", [\"ребёнок\", \"ребёнка\", \"детей\"]],\r\n    [\"МЛАДЕНЦЫ\", [\"младенец\", \"младенца\", \"младенцев\"]],\r\n]);\r\n\r\nvar peopleRootElement;\r\n\r\n$(document).ready(function () {\r\n\r\n    peopleRootElement = document.getElementsByClassName(\"navigation-bar__people-list\")[0];\r\n\r\n    fillMap();\r\n    add_elements_event();\r\n\r\n    //fillTextField()    \r\n    peopleRootElement.getElementById(\"list-of-counted-items__clean-button\").addEventListener(\"click\", (e) => {\r\n        var massOflistItems = peopleRootElement.getElementsByClassName(\"list-of-counted-items__item\");\r\n\r\n        for (let item of massOflistItems) {\r\n            var massOfElements = item.closest(\".list-of-counted-items__item\").querySelectorAll('*');\r\n            $(massOfElements[2]).text(0);\r\n            mapOfPeopleStrings.set(massOfElements[0].innerHTML, $(massOfElements[2]).text());\r\n        }\r\n\r\n        fillTextField()\r\n    })\r\n\r\n    //document.getElementById(\"list-of-counted-items__save-button\").addEventListener()\r\n});\r\n\r\nfunction add_elements_event(){\r\n\r\n    var massOfButtons = peopleRootElement.getElementsByClassName('button');\r\n\r\n    for (let item of massOfButtons) {\r\n        item.addEventListener(\"mousedown\", (e) => {    \r\n            item.classList.add(\"pushed-up\");\r\n            if(item.id == \"minus-button\"){\r\n                decrement(item)\r\n            }\r\n            if(item.id == \"plus-button\"){\r\n                increment(item)\r\n            }\r\n        }); \r\n\r\n        item.addEventListener(\"mouseup\", (e) => {\r\n            item.classList.remove(\"pushed-up\");   \r\n        }); \r\n    }\r\n}\r\n\r\nfunction fillMap(){\r\n    var massOfItems = peopleRootElement.getElementsByClassName('list-of-counted-items__item');\r\n\r\n    for (let key of massOfItems) {\r\n        mapOfPeopleStrings.set(key.children[0].innerHTML, 0);\r\n        //alert(mapOfStrings.get(key.children[0].innerHTML));\r\n    }\r\n}\r\n\r\nfunction increment(item){\r\n    var massOfItems = item.closest(\".list-of-counted-items__item\").querySelectorAll('*');\r\n    $(massOfItems[2]).text(Number.parseInt($(massOfItems[2]).text()) + 1);\r\n    mapOfPeopleStrings.set(massOfItems[0].innerHTML, $(massOfItems[2]).text());\r\n\r\n    fillTextField()\r\n}\r\n\r\nfunction decrement(item){\r\n    var massOfItems = item.closest(\".list-of-counted-items__item\").querySelectorAll('*');\r\n    var count = Number.parseInt($(massOfItems[2]).text());\r\n\r\n    if(count != 0){\r\n        $(massOfItems[2]).text(count - 1);\r\n    }\r\n    else{\r\n        $(massOfItems[2]).text(0);      \r\n    }\r\n    mapOfPeopleStrings.set(massOfItems[0].innerHTML, $(massOfItems[2]).text());\r\n\r\n    fillTextField()\r\n}\r\n\r\nfunction fillTextField(){\r\n    var resultString = \"\";\r\n    var count = 0;\r\n    for(let string of mapOfPeopleStrings){\r\n        if(string[1] != 0){\r\n            if(resultString.length != 0){\r\n                resultString += \", \"\r\n            }\r\n            try {\r\n                resultString += string[1] + \" \" + conjugation(string[1], mapOfPeopleConjugations.get(string[0]));\r\n            }\r\n            catch (e) {\r\n                resultString += string[1] + \" \" + string[0].toLowerCase()\r\n            }\r\n            count += Number.parseInt(string[1]);\r\n        }\r\n    }\r\n    if(count != 0){\r\n        $(\".navigation-bar__people-input-field\").val(resultString)\r\n    }\r\n    else{\r\n        $(\".navigation-bar__people-input-field\").val(\"\")\r\n    }\r\n}\r\n\r\nfunction conjugation(number, txt) {\r\n    var cases = [2, 0, 1, 1, 1, 2];\r\n    return txt[(number % 100 > 4 && number % 100 < 20) ? 2 : cases[(number % 10 < 5) ? number % 10 : 5]];\r\n}"]}